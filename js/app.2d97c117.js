(function(e){function t(t){for(var o,a,l=t[0],s=t[1],c=t[2],p=0,d=[];p<l.length;p++)a=l[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],o=!0,l=1;l<r.length;l++){var s=r[l];0!==i[s]&&(o=!1)}o&&(n.splice(t--,1),e=a(a.s=r[0]))}return e}var o={},i={app:0},n=[];function a(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=o,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/ComputeShaderVis/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var o=r("85ec"),i=r.n(o);i.a},1623:function(e,t,r){"use strict";var o=r("9668"),i=r.n(o);i.a},"31a7":function(e,t,r){"use strict";var o=r("7735"),i=r.n(o);i.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-navigation-drawer",{attrs:{color:"grey lighten-5",app:"",left:""},model:{value:e.settingsDrawer,callback:function(t){e.settingsDrawer=t},expression:"settingsDrawer"}},[r("v-list",[r("v-card",{attrs:{flat:"",color:"transparent"}},[r("v-card-title",[e._v("Dispatch")]),r("v-card-text",[r("v-row",[r("v-col",{staticClass:"pr-1 mr-0 pb-0 mb-0"},[r("v-text-field",{attrs:{label:"num_groups_x",outlined:"",dense:""},model:{value:e.localNumWorkGroups.x,callback:function(t){e.$set(e.localNumWorkGroups,"x",e._n(t))},expression:"localNumWorkGroups.x"}})],1),r("v-col",{staticClass:"pl-1 ml-0 pb-0 mb-0"},[r("v-text-field",{attrs:{label:"num_groups_y",outlined:"",dense:""},model:{value:e.localNumWorkGroups.y,callback:function(t){e.$set(e.localNumWorkGroups,"y",e._n(t))},expression:"localNumWorkGroups.y"}})],1)],1),r("v-row",[r("v-col",{staticClass:"pr-1 mr-0 pt-0 mt-0"},[r("v-text-field",{attrs:{label:"local_size_x",outlined:"",dense:""},model:{value:e.localWorkGroupSize.x,callback:function(t){e.$set(e.localWorkGroupSize,"x",e._n(t))},expression:"localWorkGroupSize.x"}})],1),r("v-col",{staticClass:"pl-1 ml-0 pt-0 mt-0"},[r("v-text-field",{attrs:{label:"local_size_y",outlined:"",dense:""},model:{value:e.localWorkGroupSize.y,callback:function(t){e.$set(e.localWorkGroupSize,"y",e._n(t))},expression:"localWorkGroupSize.y"}})],1)],1),r("v-row",[r("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0 text-right"},[r("v-btn",{attrs:{color:"primary",small:"",depressed:""},on:{click:function(t){return e.$store.dispatch("dispatchCompute",{localNumWorkGroups:e.localNumWorkGroups,localWorkGroupSize:e.localWorkGroupSize})}}},[e._v(" dispatch ")])],1)],1)],1)],1),r("v-divider"),r("v-card",{attrs:{flat:"",color:"transparent"}},[r("v-card-title",[e._v("Image")]),r("v-card-text",[r("v-row",[r("v-col",{staticClass:"pr-1 mr-0 pb-0 mb-0"},[r("v-text-field",{attrs:{label:"width",outlined:"",dense:""},model:{value:e.localImageSize.x,callback:function(t){e.$set(e.localImageSize,"x",e._n(t))},expression:"localImageSize.x"}})],1),r("v-col",{staticClass:"pl-1 ml-0 pb-0 mb-0"},[r("v-text-field",{attrs:{label:"height",outlined:"",dense:""},model:{value:e.localImageSize.y,callback:function(t){e.$set(e.localImageSize,"y",e._n(t))},expression:"localImageSize.y"}})],1)],1),r("v-row",[r("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0",attrs:{cols:"8"}},[r("v-text-field",{attrs:{label:"pixels per invocation",outlined:"",dense:""},model:{value:e.localDesiredPPI,callback:function(t){e.localDesiredPPI=e._n(t)},expression:"localDesiredPPI"}})],1)],1),r("v-row",[r("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0 text-right"},[r("v-btn",{attrs:{color:"primary",small:"",depressed:""},on:{click:function(t){return e.$store.dispatch("adjustImage",{imageSize:e.localImageSize,desiredPPI:e.localDesiredPPI})}}},[e._v(" adjust ")])],1)],1)],1)],1),r("v-divider"),r("v-card",{attrs:{flat:"",color:"transparent"}},[r("v-card-text",[r("v-row",[r("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0"},[r("v-radio-group",{attrs:{label:"Origin",dense:""},model:{value:e.originUpperLeft,callback:function(t){e.originUpperLeft=t},expression:"originUpperLeft"}},[r("v-radio",{attrs:{label:"Upper-left",value:!0}}),r("v-radio",{attrs:{label:"Lower-left",value:!1}})],1)],1)],1),r("v-row",[r("v-col",{staticClass:"pt-0 mt-0 pb-0 mb-0"},[r("v-radio-group",{attrs:{label:"Shading language",dense:""},model:{value:e.selectedShadingLang,callback:function(t){e.selectedShadingLang=t},expression:"selectedShadingLang"}},[r("v-radio",{attrs:{label:"GLSL",value:"glsl"}}),r("v-radio",{attrs:{label:"HLSL",value:"hlsl"}})],1)],1)],1),r("v-row",[r("v-col",{staticClass:"pt-1 mt-1"},[r("v-slider",{attrs:{label:"Tile size","thumb-label":"always","thumb-size":"26",min:"2",max:"64",step:"2",dense:""},model:{value:e.tileSize,callback:function(t){e.tileSize=e._n(t)},expression:"tileSize"}})],1)],1)],1)],1)],1)],1),r("v-app-bar",{attrs:{app:"",dark:"",color:"primary",dense:""}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.settingsDrawer=!e.settingsDrawer}}}),r("v-toolbar-title",[e._v("ComputeShaderVis")]),r("v-spacer")],1),r("v-main",[r("v-container",{attrs:{fluid:""}},[r("v-card",{staticClass:"scroll"},[r("v-card-text",[r("v-menu",{attrs:{absolute:"","open-on-click":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[r("compute-shader-vis",{attrs:{listener:o,attrs:i},on:{select:function(t){return e.selectedItem=t}}})]}}])},[r("v-card",{attrs:{tile:""}},[r("v-card-text",[r("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",[e._v(e._s(e.selectedShadingLang))]),r("th",[e._v("value")])])]),r("tbody",e._l(e.selectedItem,(function(t,o){return r("tr",{key:"prop-"+o},[r("td",[e._v(e._s(e.semantics[o][e.selectedShadingLang]))]),r("td",["object"==typeof t?e._l(t,(function(t,o){return r("v-chip",{key:o,attrs:{color:e.axesColors[o]+" lighten-1","text-color":"white",small:"",label:""}},[r("span",{staticClass:"font-weight-bold"},[e._v(e._s(o)+"="+e._s(t))])])})):[r("v-chip",{attrs:{small:"",label:""}},[r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t)+" ")])])]],2)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)],1)],1)],1)},n=[],a=r("5530"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:e.graphSize.x,height:e.graphSize.y}},[r("defs",[r("marker",{attrs:{id:"endarrow",markerWidth:"8",markerHeight:"7",refX:"5",refY:"2.5",orient:"auto",markerUnits:"strokeWidth"}},[r("polygon",{attrs:{points:"0 0, 8 2.5, 0 5",fill:"rgb(0, 0, 0)"}})])]),r("g",{attrs:{transform:"translate(10, 10)"}},[r("text",{attrs:{x:"17",y:"0"}},[e._v("image width: "+e._s(e.imageSize.x))]),r("line",{attrs:{x1:"17",y1:"8",x2:e.graphWidth,y2:"8"}}),r("text",{attrs:{x:"0",y:"0",transform:"translate("+(e.originUpperLeft?-10:0)+", "+(e.originUpperLeft?20:e.graphHeight)+") rotate("+(e.originUpperLeft?90:-90)+", 0, 0)"}},[e._v(" image height: "+e._s(e.imageSize.y)+" ")]),r("line",{attrs:{x1:"8",y1:e.originUpperLeft?17:e.graphHeight,x2:"8",y2:e.originUpperLeft?e.graphHeight:27}})]),r("g",e._g(e._b({attrs:{transform:"translate(20, 20)"}},"g",e.attrs,!1),e.listener),[e._l(e.numWorkGroups.y,(function(t,o){return[e._l(e.numWorkGroups.x,(function(t,i){return[r("work-group",{key:"work-group-"+i+"-"+o,attrs:{"i-d":{x:i,y:o,z:0}},on:{click:function(t){return e.$emit("select",t)}}})]}))]}))],2)])},s=[],c=r("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("g",{staticClass:"workgroup",attrs:{transform:e.translate}},[e._l(e.workGroupSize.y,(function(t,o){return[e._l(e.workGroupSize.x,(function(t,i){return[r("invocation-thread",{key:"invocation-"+i+"-"+o,attrs:{"i-d":{x:i,y:o,z:0}},on:{click:function(t){return e.$emit("click",Object.assign({},e.workGroupInfo,t))}}})]}))]}))],2)},p=[],d=(r("99af"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("rect",{class:e.color,attrs:{x:e.position.x,y:e.position.y,rx:"1",ry:"1",width:e.tileSize,height:e.tileSize},on:{click:function(t){return e.$emit("click",e.invocationInfo)}}})}),f=[],g={name:"InvocationThread",props:{ID:{type:Object,required:!0}},computed:Object(a["a"])(Object(a["a"])({},Object(c["b"])(["originUpperLeft","tileSize","workGroupSize","imageSize","desiredPPI"])),{},{position:function(){var e=this.originUpperLeft,t=this.tileSize,r=this.workGroupSize,o=this.ID;return{x:o.x*t,y:(e?o.y:r.y-1-o.y)*t}},color:function(){var e=this.imageSize,t=this.desiredPPI,r=this.globalInvocationID,o=r.x*t<e.x&&r.y*t<e.y;return o?"fits":"out-of-range"},invocationInfo:function(){var e=this.ID,t=this.localInvocationIndex,r=this.globalInvocationID;return{localInvocationID:e,localInvocationIndex:t,globalInvocationID:r}},localInvocationIndex:function(){var e=this.workGroupSize,t=this.ID;return t.z*e.x*e.y+t.y*e.x+t.x},globalInvocationID:function(){var e=this.workGroupSize,t=this.ID,r=this.$parent.ID;return{x:r.x*e.x+t.x,y:r.y*e.y+t.y,z:0}}})},v=g,m=(r("5dd3"),r("2877")),h=Object(m["a"])(v,d,f,!1,null,null,null),b=h.exports,k={name:"WorkGroup",components:{InvocationThread:b},props:{ID:{type:Object,required:!0}},computed:Object(a["a"])(Object(a["a"])({},Object(c["b"])(["originUpperLeft","numWorkGroups","workGroupSize","workGroupTileSize","workGroupPadding"])),{},{translate:function(){var e=this.position;return"translate(".concat(e.x,", ").concat(e.y,")")},position:function(){var e,t=this.originUpperLeft,r=this.numWorkGroups,o=this.workGroupTileSize,i=this.workGroupPadding,n=this.ID;return e=t?i+n.y*i+n.y*o.y:(r.y-1-n.y)*o.y+(r.y-n.y)*i,{x:i+n.x*i+n.x*o.x,y:e}},workGroupInfo:function(){var e=this.ID;return{workGroupID:e}}})},S=k,x=(r("1623"),Object(m["a"])(S,u,p,!1,null,null,null)),y=x.exports,z={name:"ComputeShaderVis",components:{WorkGroup:y},props:["listener","attrs"],computed:Object(a["a"])(Object(a["a"])({},Object(c["b"])(["originUpperLeft","tileSize","numWorkGroups","workGroupSize","workGroupPadding","imageSize"])),{},{graphWidth:function(){var e=this.numWorkGroups,t=this.workGroupSize,r=this.workGroupPadding,o=this.tileSize;return e.x*t.x*o+(e.x+1)*r},graphHeight:function(){var e=this.numWorkGroups,t=this.workGroupSize,r=this.tileSize,o=this.workGroupPadding;return e.y*t.y*r+(e.y+1)*o},graphSize:function(){var e=this.workGroupPadding,t=this.graphWidth,r=this.graphHeight;return{x:t+3*e,y:r+3*e}}})},w=z,I=(r("31a7"),Object(m["a"])(w,l,s,!1,null,null,null)),G=I.exports,_={name:"App",components:{ComputeShaderVis:G},beforeMount:function(){var e=this.$store.getters,t=e.numWorkGroups,r=e.workGroupSize,o=e.imageSize,i=e.desiredPPI;this.localNumWorkGroups=Object(a["a"])({},t),this.localWorkGroupSize=Object(a["a"])({},r),this.localImageSize=Object(a["a"])({},o),this.localDesiredPPI=i},data:function(){return{settingsDrawer:!0,selectedItem:null,localNumWorkGroups:null,localWorkGroupSize:null,localImageSize:null,localDesiredPPI:1,selectedShadingLang:"glsl",semantics:{numWorkGroups:{glsl:"gl_NumWorkGroups",hlsl:"(non-existent)",description:""},workGroupSize:{glsl:"gl_WorkGroupSize",hlsl:"(non-existent)",description:""},workGroupID:{glsl:"gl_WorkGroupID",hlsl:"SV_GroupID",description:""},localInvocationID:{glsl:"gl_LocalInvocationID",hlsl:"SV_GroupThreadID",description:""},localInvocationIndex:{glsl:"gl_LocalInvocationIndex",hlsl:"SV_GroupIndex",description:""},globalInvocationID:{glsl:"gl_GlobalInvocationID",hlsl:"SV_DispatchThreadID",description:""}},axesColors:{x:"red",y:"green",z:"blue"}}},computed:{originUpperLeft:{get:function(){return this.$store.state.originUpperLeft},set:function(e){e?this.$store.commit("setOriginUpperLeft"):this.$store.commit("setOriginLowerLeft")}},tileSize:{get:function(){return this.$store.state.tileSize},set:function(e){this.$store.commit("setTileSize",e)}}}},P=_,W=(r("034f"),r("6544")),L=r.n(W),D=r("7496"),O=r("40dc"),j=r("5bc1"),C=r("8336"),V=r("b0af"),U=r("99d9"),$=r("cc20"),N=r("62ad"),T=r("a523"),A=r("ce7e"),H=r("8860"),M=r("f6c4"),E=r("e449"),B=r("f774"),R=r("67b6"),q=r("43a6"),F=r("0fd9"),J=r("1f4f"),X=r("ba0d"),Y=r("2fa4"),K=r("8654"),Q=r("2a7f"),Z=Object(m["a"])(P,i,n,!1,null,null,null),ee=Z.exports;L()(Z,{VApp:D["a"],VAppBar:O["a"],VAppBarNavIcon:j["a"],VBtn:C["a"],VCard:V["a"],VCardText:U["a"],VCardTitle:U["b"],VChip:$["a"],VCol:N["a"],VContainer:T["a"],VDivider:A["a"],VList:H["a"],VMain:M["a"],VMenu:E["a"],VNavigationDrawer:B["a"],VRadio:R["a"],VRadioGroup:q["a"],VRow:F["a"],VSimpleTable:J["a"],VSlider:X["a"],VSpacer:Y["a"],VTextField:K["a"],VToolbarTitle:Q["a"]}),o["a"].use(c["a"]);var te=new c["a"].Store({strict:!1,state:{originUpperLeft:!0,tileSize:12,numWorkGroups:{x:5,y:3,z:1},workGroupSize:{x:16,y:16,z:1},imageSize:{x:1280,y:720},desiredPPI:16},mutations:{setOriginUpperLeft:function(e){return e.originUpperLeft=!0},setOriginLowerLeft:function(e){return e.originUpperLeft=!1},setTileSize:function(e,t){return e.tileSize=t},setNumWorkGroups:function(e,t){e.numWorkGroups=Object(a["a"])({},t)},setWorkGroupSize:function(e,t){e.workGroupSize=Object(a["a"])({},t)},setImageSize:function(e,t){e.imageSize=Object(a["a"])({},t)},setDesiredPPI:function(e,t){e.desiredPPI=t}},getters:{originUpperLeft:function(e){return e.originUpperLeft},originLowerLeft:function(e){return!e.originUpperLeft},tileSize:function(e){return e.tileSize},numWorkGroups:function(e){return e.numWorkGroups},workGroupSize:function(e){return e.workGroupSize},workGroupPadding:function(e){return e.tileSize/2},workGroupTileSize:function(e){var t=e.workGroupSize,r=e.tileSize;return{x:t.x*r,y:t.y*r}},imageSize:function(e){return e.imageSize},desiredPPI:function(e){return e.desiredPPI}},actions:{dispatchCompute:function(e,t){var r=e.commit;r("setNumWorkGroups",t.localNumWorkGroups),r("setWorkGroupSize",t.localWorkGroupSize)},adjustImage:function(e,t){var r=e.commit;r("setImageSize",t.imageSize),r("setDesiredPPI",t.desiredPPI)}}}),re=r("f309"),oe=r("5607");r("d1e78");o["a"].use(re["a"],{components:{VCard:V["a"]},directives:{Ripple:oe["a"]}});var ie={},ne=new re["a"](ie),ae=r("9483");Object(ae["a"])("".concat("/ComputeShaderVis/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),o["a"].config.productionTip=!1,new o["a"]({store:te,vuetify:ne,render:function(e){return e(ee)}}).$mount("#app")},"5dd3":function(e,t,r){"use strict";var o=r("e968"),i=r.n(o);i.a},7735:function(e,t,r){},"85ec":function(e,t,r){},9668:function(e,t,r){},e968:function(e,t,r){}});
//# sourceMappingURL=app.2d97c117.js.map